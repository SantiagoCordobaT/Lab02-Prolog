#1)

% --- HECHOS Y CAPACIDADES (PARÁMETROS DEL PROBLEMA) ---

% Coordenadas de las ubicaciones: ubicacion(ID, X, Y).
ubicacion(orilla_inicial, 0, 5).
ubicacion(piedra1, 2, 4).
ubicacion(piedra2, 5, 6).
ubicacion(piedra3, 8, 4).
ubicacion(piedra4, 5, 0).
ubicacion(orilla_final, 10, 5).

% Capacidad de la rana: distancia máxima de salto.
salto_maximo(4.0).

distancia(POS1, POS2, D):- ubicacion(POS1, X1, Y1), ubicacion(POS2, X2, Y2), D is sqrt((X2 - X1)**2 + (Y2 - Y1)**2).

meta(pos(orilla_final)).
% --- REGLA DFS GENÉRICA ---

% Caso base: El estado actual es la meta.
dfs(Estado, _, [Estado]) :-
    meta(Estado).

% Caso recursivo:
dfs(EstadoActual, Visitados, [EstadoActual | CaminoRestante]) :-
    siguiente_estado(EstadoActual, SiguienteEstado),
    not(member(SiguienteEstado, Visitados)),
    dfs(SiguienteEstado, [SiguienteEstado | Visitados], CaminoRestante).

% Es posible pasar de un lado a otro.
siguiente_estado(pos(LugarActual), pos(LugarSiguiente)):- ubicacion(LugarActual,_,_), ubicacion(LugarSiguiente,_,_), LugarActual \= LugarSiguiente, distancia(LugarActual,LugarSiguiente,D), D =< 4.0.

% Buscar solucion
buscar_solucion(Solucion) :-
    EstadoInicial = pos(orilla_inicial),
    dfs(EstadoInicial, [EstadoInicial], Solucion).

#2)

